<!DOCTYPE html>
<html class="no-js" lang=""><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <title>Devcards: devcard-examples</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link href="favicon.png" rel="icon" type="image/png">
        <link href="css.css" rel="stylesheet">
    </head>
    <body>

      <div id="-devcard-status-bar"></div>
<h2 id="-devcard-title">Devcards: devcard-examples</h2>

<script type="text/javascript">
  url = "/dc/devcard-examples?jump=devcard-examples-examples";
clientId = "cl-1713538843390790-3645132255";
clientKind = "ClientList";
projectName = "devcard-examples";
devcardName = "";
scrollPosition = 0;

/**
 * Once the website loads, we want to apply listeners and connect to websocket
 * */
window.onload = function () {
    if (clientId == "") {
        return;
    }

    // Check if the browser supports WebSocket
    if (!window["WebSocket"]) {
        alert("Websockets are not supported");
        return;
    }

    conn = new WebSocket("ws://" + document.location.host + "/ws?clientId=" + clientId + "&clientKind=" + clientKind + "&url=" + url + "&projectName=" + projectName + "&devcardName=" + devcardName);

    conn.addEventListener("close", (event) => {
        console.log(url)
        appendStatusBarContent(" <code class=\"err\">connection lost: <a href=\"javascript:location.reload()\">reload</a></code>")
    });

    conn.onmessage = function(rawMsg) {
        msg = JSON.parse(rawMsg.data)
        dispatchMessage(msg)
    }
};

dispatchMessage = function(msg) {
    switch (msg.msgType) {
    case "clear":
        clearDevcard();
        break;
    case "setTitle":
        setTitle(msg.title);
        break;
    case "appendCell":
        appendCell(msg.cellId)
        setCellContent(msg.cellId, msg.html)
        break;
    case "appendToCell":
        appendToCell(msg.cellId, msg.html)
        break;
    case "setCellContent":
        setCellContent(msg.cellId, msg.html)
        break;
    case "setStatusBarContent":
        setStatusBarContent(msg.html)
        break;
    case "saveScrollPosition":
        scrollPosition = window.pageYOffset
        break;
    case "restoreScrollPosition":
        window.scrollTo(0, scrollPosition);
        break;
    case "jump":
        document.getElementById(msg.id).scrollIntoView();
        break;
    default:
        alert("unsupported message type:" + msg.msgType);
        break;
    }
}

clearDevcard = function() {
    document.getElementById("-devcard-cells").innerHTML = ""
    document.getElementById("-devcard-stdout").innerHTML = ""
    document.getElementById("-devcard-stderr").innerHTML = ""
}

setTitle = function(title) {
    e = document.getElementById("-devcard-title")
    e.innerHTML = '<a style="text-decoration:none" href="javascript:openInEditor()">ðŸ“‚</a> ' +title
}

appendCell = function(cellId) {
    e = document.getElementById(cellId)
    if (e != null) {
        return
    }
    e = document.getElementById("-devcard-cells")
    cell = "<div id=\"" + cellId + "\"></div>"
    e.innerHTML = e.innerHTML + cell
}

setCellContent = function(cellId, html) {
    e = document.getElementById(cellId)
    e.innerHTML = html
}

appendToCell = function(cellId, html) {
    e = document.getElementById(cellId)
    e.innerHTML = e.innerHTML + html
}

setStatusBarContent = function(html) {
    e = document.getElementById("-devcard-status-bar")
    e.innerHTML = html
}

appendStatusBarContent = function(html) {
    e = document.getElementById("-devcard-status-bar")
    e.innerHTML = e.innerHTML + html
}

generateDebugCode = function() {
    fetch("/debug/"+projectName+"/"+devcardName)
        .then((response) => response.text())
        .then((text) => {
            alert(text)
        })
}

openInEditor = function() {
    fetch("/open/"+projectName+"/"+devcardName)
        .then((response) => response.text())
        .then((text) => {
            if (text != "") {
                alert(text)
            }
        })
}

</script>

<div id="-devcard-cells">
<div id="list"><h4 id="devcard-examples-examples">examples <span class="import-path">github.com/igorhub/devcard-examples/examples</span></h4>

<ul>
<li><a href="DevcardIntro.html">Getting started</a></li>
<li><a href="DevcardAnatomy.html">Anatomy of a devcard</a></li>
<li><a href="DevcardTextCells.html">Text cells</a></li>
<li><a href="DevcardMonospacedCells.html">Monospaced cells</a></li>
<li><a href="DevcardImageCell.html">Image cell</a></li>
<li><a href="DevcardCustomCell.html">Custom cell</a></li>
<li><a href="DevcardCurrent.html">Current devcard</a></li>
<li><a href="DevcardFoobar.html"><em>scratch</em></a></li>
</ul>
</div></div>

<div id="-devcard-stdout">
</div>

<div id="-devcard-stderr">
</div>

<div id="-devcard-navigation">
</div>


    


</body></html>
